<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>AMS Supply</title>
<style>
  /* Yeezy Supply style */
  body {
    margin: 0;
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
    background-color: #f6f6f6;
    color: #000;
  }
  header {
    padding: 20px;
    font-weight: 700;
    font-size: 24px;
    text-align: center;
    border-bottom: 1px solid #ddd;
    background: white;
    position: sticky;
    top: 0;
    z-index: 100;
  }
  .container {
    max-width: 960px;
    margin: 40px auto;
    padding: 0 20px;
  }
  .products {
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(240px,1fr));
    gap: 30px;
  }
  .product {
    background: white;
    padding: 20px;
    cursor: pointer;
    border: 1px solid #eee;
    transition: box-shadow 0.2s;
    user-select: none;
  }
  .product:hover {
    box-shadow: 0 4px 15px rgb(0 0 0 / 0.1);
  }
  .product img {
    max-width: 100%;
    height: auto;
    display: block;
    margin-bottom: 12px;
  }
  .product-name {
    font-weight: 600;
    margin-bottom: 6px;
  }
  .price {
    font-weight: 600;
    margin-bottom: 12px;
  }
  .size-selector {
    margin-bottom: 12px;
  }
  .size-selector button {
    border: 1px solid #ddd;
    background: none;
    padding: 6px 12px;
    margin-right: 8px;
    cursor: pointer;
    font-weight: 600;
    transition: background-color 0.2s, color 0.2s;
  }
  .size-selector button.selected {
    background: black;
    color: white;
  }
  .add-to-cart {
    padding: 12px 20px;
    border: none;
    background: black;
    color: white;
    font-weight: 700;
    cursor: pointer;
    width: 100%;
    opacity: 0.5;
  }
  .add-to-cart.enabled {
    opacity: 1;
  }
  .cart-button {
    position: fixed;
    right: 20px;
    top: 20px;
    background: black;
    color: white;
    border: none;
    padding: 12px 16px;
    cursor: pointer;
    font-weight: 700;
    border-radius: 4px;
    z-index: 101;
  }
  .cart-count {
    background: red;
    font-size: 14px;
    padding: 2px 6px;
    border-radius: 50%;
    position: absolute;
    top: -6px;
    right: -6px;
    color: white;
  }
  /* Modal Styles */
  .modal {
    display: none;
    position: fixed;
    z-index: 105;
    left: 0; top: 0;
    width: 100%; height: 100%;
    background-color: rgba(0,0,0,0.5);
    justify-content: center;
    align-items: center;
  }
  .modal.active {
    display: flex;
  }
  .modal-content {
    background: white;
    padding: 24px;
    border-radius: 6px;
    max-width: 400px;
    width: 90%;
  }
  .modal-header {
    font-weight: 700;
    font-size: 20px;
    margin-bottom: 12px;
  }
  .close-modal {
    cursor: pointer;
    float: right;
    font-size: 20px;
    font-weight: 700;
    color: #999;
  }
  .checkout-item {
    display: flex;
    justify-content: space-between;
    margin-bottom: 12px;
  }
  .checkout-total {
    font-weight: 700;
    font-size: 18px;
    text-align: right;
    margin-top: 20px;
  }
</style>
</head>
<body>

<header>AMS Supply</header>

<button class="cart-button" id="cart-button">
  Cart <span class="cart-count" id="cart-count" style="display:none;">0</span>
</button>

<div class="container">
  <div class="products" id="products"></div>
</div>

<!-- Modal for product options -->
<div class="modal" id="product-modal">
  <div class="modal-content">
    <span class="close-modal" id="close-modal">&times;</span>
    <div id="modal-product-name" class="modal-header"></div>
    <img id="modal-product-image" src="" alt="" style="width: 100%; margin-bottom: 12px;">
    <div class="size-selector" id="size-selector">
      <button data-size="S">Small</button>
      <button data-size="M">Medium</button>
      <button data-size="L">Large</button>
      <button data-size="XL">Extra Large</button>
    </div>
    <button class="add-to-cart" id="add-to-cart" disabled>Add to Cart</button>
  </div>
</div>

<!-- Modal for cart -->
<div class="modal" id="cart-modal">
  <div class="modal-content">
    <span class="close-modal" id="close-cart-modal">&times;</span>
    <div class="modal-header">Your Cart</div>
    <div id="cart-items"></div>
    <div class="checkout-total" id="cart-total"></div>
  </div>
</div>

<script>
  // Products data with local image filenames
  const products = [
    { id: 1, name: "AMS Hoodie One", price: 80, image: "ams-hoodie-1.jpg" },
    { id: 2, name: "AMS Hoodie Two", price: 80, image: "ams-hoodie-2.jpg" },
    { id: 3, name: "AMS Hoodie Three", price: 80, image: "ams-hoodie-3.jpg" }
  ];

  // DOM elements
  const productsContainer = document.getElementById('products');
  const productModal = document.getElementById('product-modal');
  const cartModal = document.getElementById('cart-modal');
  const closeModalBtn = document.getElementById('close-modal');
  const closeCartModalBtn = document.getElementById('close-cart-modal');
  const modalProductName = document.getElementById('modal-product-name');
  const modalProductImage = document.getElementById('modal-product-image');
  const sizeSelector = document.getElementById('size-selector');
  const addToCartBtn = document.getElementById('add-to-cart');
  const cartButton = document.getElementById('cart-button');
  const cartCount = document.getElementById('cart-count');
  const cartItemsContainer = document.getElementById('cart-items');
  const cartTotal = document.getElementById('cart-total');

  let selectedProduct = null;
  let selectedSize = null;
  let cart = [];

  // Render products grid
  function renderProducts() {
    productsContainer.innerHTML = '';
    products.forEach(product => {
      const productEl = document.createElement('div');
      productEl.className = 'product';
      productEl.innerHTML = `
        <img src="${product.image}" alt="${product.name}" />
        <div class="product-name">${product.name}</div>
        <div class="price">$${product.price}</div>
      `;
      productEl.addEventListener('click', () => openProductModal(product));
      productsContainer.appendChild(productEl);
    });
  }

  // Open product modal
  function openProductModal(product) {
    selectedProduct = product;
    selectedSize = null;
    modalProductName.textContent = product.name;
    modalProductImage.src = product.image;
    addToCartBtn.disabled = true;
    addToCartBtn.classList.remove('enabled');
    [...sizeSelector.children].forEach(btn => btn.classList.remove('selected'));
    productModal.classList.add('active');
  }

  // Size selector click handler
  sizeSelector.addEventListener('click', e => {
    if (e.target.tagName === 'BUTTON') {
      selectedSize = e.target.dataset.size;
      [...sizeSelector.children].forEach(btn => btn.classList.remove('selected'));
      e.target.classList.add('selected');
      addToCartBtn.disabled = false;
      addToCartBtn.classList.add('enabled');
    }
  });

  // Add to cart button
  addToCartBtn.addEventListener('click', () => {
    if (!selectedSize || !selectedProduct) return;
    const cartIndex = cart.findIndex(item => item.product.id === selectedProduct.id && item.size === selectedSize);
    if (cartIndex > -1) {
      cart[cartIndex].quantity += 1;
    } else {
      cart.push({ product: selectedProduct, size: selectedSize, quantity: 1 });
    }
    updateCartCount();
    productModal.classList.remove('active');
  });

  // Update cart count badge
  function updateCartCount() {
    const count = cart.reduce((sum, item) => sum + item.quantity, 0);
    if (count > 0) {
      cartCount.style.display = 'inline-block';
      cartCount.textContent = count;
    } else {
      cartCount.style.display = 'none';
    }
  }

  // Render cart modal items
  function renderCart() {
    cartItemsContainer.innerHTML = '';
    if (cart.length === 0) {
      cartItemsContainer.innerHTML = '<p>Your cart is empty.</p>';
      cartTotal.textContent = '';
      return;
    }
    let total = 0;
    cart.forEach(item => {
      const itemTotal = item.product.price * item.quantity;
      total += itemTotal;
      const itemEl = document.createElement('div');
      itemEl.className = 'checkout-item';
      itemEl.innerHTML = `
        <div>${item.product.name} (${item.size}) x ${item.quantity}</div>
        <div>$${itemTotal}</div>
      `;
      cartItemsContainer.appendChild(itemEl);
    });
    cartTotal.textContent = 'Total: $' + total;
  }

  // Event listeners for opening/closing modals
  cartButton.addEventListener('click', () => {
    renderCart();
    cartModal.classList.add('active');
  });

  closeModalBtn.addEventListener('click', () => productModal.classList.remove('active'));
  closeCartModalBtn.addEventListener('click', () => cartModal.classList.remove('active'));

  // Initial render
  renderProducts();
  updateCartCount();
</script>

</body>
</html>

